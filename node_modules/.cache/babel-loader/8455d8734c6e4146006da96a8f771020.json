{"ast":null,"code":"import { Direction } from '../geometry/geometry.js';\nimport { Model } from '../model/model.js';\nimport { FinalizeModel } from '../model/modelfinalization.js';\nimport { IsModelEmpty } from '../model/modelutils.js';\nexport class ImporterBase {\n  constructor() {\n    this.name = null;\n    this.extension = null;\n    this.callbacks = null;\n    this.model = null;\n    this.error = null;\n    this.message = null;\n  }\n\n  Import(name, extension, content, callbacks) {\n    this.Clear();\n    this.name = name;\n    this.extension = extension;\n    this.callbacks = callbacks;\n    this.model = new Model();\n    this.error = false;\n    this.message = null;\n    this.ResetContent();\n    this.ImportContent(content, () => {\n      this.CreateResult(callbacks);\n    });\n  }\n\n  Clear() {\n    this.name = null;\n    this.extension = null;\n    this.callbacks = null;\n    this.model = null;\n    this.error = null;\n    this.message = null;\n    this.ClearContent();\n  }\n\n  CreateResult(callbacks) {\n    if (this.error) {\n      callbacks.onError();\n      callbacks.onComplete();\n      return;\n    }\n\n    if (IsModelEmpty(this.model)) {\n      this.SetError('The model doesn\\'t contain any meshes.');\n      callbacks.onError();\n      callbacks.onComplete();\n      return;\n    }\n\n    FinalizeModel(this.model, {\n      getDefaultMaterialColor: this.callbacks.getDefaultMaterialColor\n    });\n    callbacks.onSuccess();\n    callbacks.onComplete();\n  }\n\n  CanImportExtension(extension) {\n    return false;\n  }\n\n  GetUpDirection() {\n    return Direction.Z;\n  }\n\n  ClearContent() {}\n\n  ResetContent() {}\n\n  ImportContent(fileContent, onFinish) {}\n\n  GetModel() {\n    return this.model;\n  }\n\n  SetError(message) {\n    this.error = true;\n\n    if (message !== undefined && message !== null) {\n      this.message = message;\n    }\n  }\n\n  WasError() {\n    return this.error;\n  }\n\n  GetErrorMessage() {\n    return this.message;\n  }\n\n}","map":{"version":3,"names":["Direction","Model","FinalizeModel","IsModelEmpty","ImporterBase","constructor","name","extension","callbacks","model","error","message","Import","content","Clear","ResetContent","ImportContent","CreateResult","ClearContent","onError","onComplete","SetError","getDefaultMaterialColor","onSuccess","CanImportExtension","GetUpDirection","Z","fileContent","onFinish","GetModel","undefined","WasError","GetErrorMessage"],"sources":["/Users/rohansagar/Desktop/node+react/client/node-react-3d/node_modules/online-3d-viewer/source/engine/import/importerbase.js"],"sourcesContent":["import { Direction } from '../geometry/geometry.js';\r\nimport { Model } from '../model/model.js';\r\nimport { FinalizeModel } from '../model/modelfinalization.js';\r\nimport { IsModelEmpty } from '../model/modelutils.js';\r\n\r\nexport class ImporterBase\r\n{\r\n    constructor ()\r\n    {\r\n        this.name = null;\r\n        this.extension = null;\r\n        this.callbacks = null;\r\n        this.model = null;\r\n        this.error = null;\r\n        this.message = null;\r\n    }\r\n\r\n    Import (name, extension, content, callbacks)\r\n    {\r\n        this.Clear ();\r\n\r\n        this.name = name;\r\n        this.extension = extension;\r\n        this.callbacks = callbacks;\r\n        this.model = new Model ();\r\n        this.error = false;\r\n        this.message = null;\r\n        this.ResetContent ();\r\n        this.ImportContent (content, () => {\r\n            this.CreateResult (callbacks);\r\n        });\r\n    }\r\n\r\n    Clear ()\r\n    {\r\n        this.name = null;\r\n        this.extension = null;\r\n        this.callbacks = null;\r\n        this.model = null;\r\n        this.error = null;\r\n        this.message = null;\r\n        this.ClearContent ();\r\n    }\r\n\r\n    CreateResult (callbacks)\r\n    {\r\n        if (this.error) {\r\n            callbacks.onError ();\r\n            callbacks.onComplete ();\r\n            return;\r\n        }\r\n\r\n        if (IsModelEmpty (this.model)) {\r\n            this.SetError ('The model doesn\\'t contain any meshes.');\r\n            callbacks.onError ();\r\n            callbacks.onComplete ();\r\n            return;\r\n        }\r\n\r\n        FinalizeModel (this.model, {\r\n            getDefaultMaterialColor : this.callbacks.getDefaultMaterialColor\r\n        });\r\n\r\n        callbacks.onSuccess ();\r\n        callbacks.onComplete ();\r\n    }\r\n\r\n    CanImportExtension (extension)\r\n    {\r\n        return false;\r\n    }\r\n\r\n    GetUpDirection ()\r\n    {\r\n        return Direction.Z;\r\n    }\r\n\r\n    ClearContent ()\r\n    {\r\n\r\n    }\r\n\r\n    ResetContent ()\r\n    {\r\n\r\n    }\r\n\r\n    ImportContent (fileContent, onFinish)\r\n    {\r\n\r\n    }\r\n\r\n    GetModel ()\r\n    {\r\n        return this.model;\r\n    }\r\n\r\n    SetError (message)\r\n    {\r\n        this.error = true;\r\n        if (message !== undefined && message !== null) {\r\n            this.message = message;\r\n        }\r\n    }\r\n\r\n    WasError ()\r\n    {\r\n        return this.error;\r\n    }\r\n\r\n    GetErrorMessage ()\r\n    {\r\n        return this.message;\r\n    }\r\n}\r\n"],"mappings":"AAAA,SAASA,SAAT,QAA0B,yBAA1B;AACA,SAASC,KAAT,QAAsB,mBAAtB;AACA,SAASC,aAAT,QAA8B,+BAA9B;AACA,SAASC,YAAT,QAA6B,wBAA7B;AAEA,OAAO,MAAMC,YAAN,CACP;EACIC,WAAW,GACX;IACI,KAAKC,IAAL,GAAY,IAAZ;IACA,KAAKC,SAAL,GAAiB,IAAjB;IACA,KAAKC,SAAL,GAAiB,IAAjB;IACA,KAAKC,KAAL,GAAa,IAAb;IACA,KAAKC,KAAL,GAAa,IAAb;IACA,KAAKC,OAAL,GAAe,IAAf;EACH;;EAEDC,MAAM,CAAEN,IAAF,EAAQC,SAAR,EAAmBM,OAAnB,EAA4BL,SAA5B,EACN;IACI,KAAKM,KAAL;IAEA,KAAKR,IAAL,GAAYA,IAAZ;IACA,KAAKC,SAAL,GAAiBA,SAAjB;IACA,KAAKC,SAAL,GAAiBA,SAAjB;IACA,KAAKC,KAAL,GAAa,IAAIR,KAAJ,EAAb;IACA,KAAKS,KAAL,GAAa,KAAb;IACA,KAAKC,OAAL,GAAe,IAAf;IACA,KAAKI,YAAL;IACA,KAAKC,aAAL,CAAoBH,OAApB,EAA6B,MAAM;MAC/B,KAAKI,YAAL,CAAmBT,SAAnB;IACH,CAFD;EAGH;;EAEDM,KAAK,GACL;IACI,KAAKR,IAAL,GAAY,IAAZ;IACA,KAAKC,SAAL,GAAiB,IAAjB;IACA,KAAKC,SAAL,GAAiB,IAAjB;IACA,KAAKC,KAAL,GAAa,IAAb;IACA,KAAKC,KAAL,GAAa,IAAb;IACA,KAAKC,OAAL,GAAe,IAAf;IACA,KAAKO,YAAL;EACH;;EAEDD,YAAY,CAAET,SAAF,EACZ;IACI,IAAI,KAAKE,KAAT,EAAgB;MACZF,SAAS,CAACW,OAAV;MACAX,SAAS,CAACY,UAAV;MACA;IACH;;IAED,IAAIjB,YAAY,CAAE,KAAKM,KAAP,CAAhB,EAA+B;MAC3B,KAAKY,QAAL,CAAe,wCAAf;MACAb,SAAS,CAACW,OAAV;MACAX,SAAS,CAACY,UAAV;MACA;IACH;;IAEDlB,aAAa,CAAE,KAAKO,KAAP,EAAc;MACvBa,uBAAuB,EAAG,KAAKd,SAAL,CAAec;IADlB,CAAd,CAAb;IAIAd,SAAS,CAACe,SAAV;IACAf,SAAS,CAACY,UAAV;EACH;;EAEDI,kBAAkB,CAAEjB,SAAF,EAClB;IACI,OAAO,KAAP;EACH;;EAEDkB,cAAc,GACd;IACI,OAAOzB,SAAS,CAAC0B,CAAjB;EACH;;EAEDR,YAAY,GACZ,CAEC;;EAEDH,YAAY,GACZ,CAEC;;EAEDC,aAAa,CAAEW,WAAF,EAAeC,QAAf,EACb,CAEC;;EAEDC,QAAQ,GACR;IACI,OAAO,KAAKpB,KAAZ;EACH;;EAEDY,QAAQ,CAAEV,OAAF,EACR;IACI,KAAKD,KAAL,GAAa,IAAb;;IACA,IAAIC,OAAO,KAAKmB,SAAZ,IAAyBnB,OAAO,KAAK,IAAzC,EAA+C;MAC3C,KAAKA,OAAL,GAAeA,OAAf;IACH;EACJ;;EAEDoB,QAAQ,GACR;IACI,OAAO,KAAKrB,KAAZ;EACH;;EAEDsB,eAAe,GACf;IACI,OAAO,KAAKrB,OAAZ;EACH;;AA3GL"},"metadata":{},"sourceType":"module"}